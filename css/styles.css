:root{
  --bg:#0f1220;--panel:#12172a;--surface:#0b1020;--muted:#94a3b8;--text:#e5e7eb;--primary:#7c3aed;--accent:#22d3ee;
  --ticket-w: 900px; --ticket-h: 400px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:linear-gradient(135deg,#0b1020,#0f172a);font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:var(--text)}

.app{display:grid;grid-template-columns: 320px 1fr; gap:16px; padding:16px;}
.panel{background:var(--panel);border:1px solid #1f2937;border-radius:16px;box-shadow:0 10px 30px #0004;}
.panel h2{margin:0;padding:14px 16px;border-bottom:1px solid #1f2937;font-size:16px;color:#cbd5e1}

.tools{padding:12px;display:grid;gap:12px}
.group{border:1px solid #1f2937;border-radius:12px;padding:12px;background: #0c1226}
.group h3{margin:0 0 8px 0;font-size:13px;color:#a5b4fc;letter-spacing:.3px;text-transform:uppercase}

.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:10px;border:1px solid #243046;background:#111827;color:#e5e7eb;cursor:pointer;font-size:14px;user-select:none}
.btn:hover{background:#0f1a33}
.btn.primary{border-color:#3b2fa4;background:linear-gradient(180deg,#3b2fa4,#2b237d)}

.row{display:flex;gap:8px;flex-wrap:wrap}
.row .btn{flex:1}
.field{display:grid;gap:6px}
.field label{font-size:12px;color:var(--muted)}
.field input[type="text"], .field input[type="number"], .field select{width:100%;padding:10px;border-radius:8px;border:1px solid #223; background:#0b1020;color:#e5e7eb}

.canvasWrap{position:relative;padding:12px}
.ticketBgPicker{position:absolute;right:20px;top:20px;z-index:5}

#canvas{position:relative; width:var(--ticket-w); height:var(--ticket-h); margin:16px auto;border-radius:16px; background:#111827; border:1px dashed #334155; box-shadow:inset 0 0 0 2px #0006, 0 20px 60px #0008}

.snapHint{position:absolute;left:50%;top:8px;transform:translateX(-50%);font-size:12px;color:#a3e635;background:#052e16;border:1px solid #166534;padding:4px 8px;border-radius:999px;display:none}

.el{position:absolute; min-width:60px; min-height:28px; border:1px dashed transparent; padding:6px 10px; border-radius:8px; cursor:move; user-select:none}
.el.selected{border-color:#6272ff66; box-shadow:0 0 0 2px #7c3aed40}
.el[contenteditable="true"]:focus{outline:none}

.shape{background:#1f2937}
.shape.round{border-radius:999px}
.shape.circle{border-radius:50%}

.label{font-size:12px; color:#94a3b8; text-transform:uppercase; letter-spacing:.08em}
.value{font-size:22px; font-weight:700}

.handles{position:absolute; inset:-14px; pointer-events:none; display:none}
.el.selected .handles{display:block}

.resize{position:absolute; width:14px;height:14px;border-radius:3px;background:#7c3aed; border:2px solid #0b1020; pointer-events:auto; cursor:nwse-resize}
.resize.br{right:-7px; bottom:-7px}

.rotate{position:absolute; top:-30px; left:50%; transform:translateX(-50%); width:22px; height:22px; border-radius:50%; background:#22d3ee; border:2px solid #0b1020; pointer-events:auto; cursor:grab}
.rotate::after{content:"â¤¾"; display:grid; place-items:center; font-size:14px; line-height:18px; text-align:center; color:#00111a}

.badge{position:absolute; right:14px; top:14px; background:#0ea5e9; color:#00121a; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px; box-shadow:0 6px 24px #0008}

.footer{display:flex;gap:10px;justify-content:space-between;align-items:center;padding:12px;border-top:1px solid #1f2937}
.footer .left, .footer .right{display:flex;gap:10px;flex-wrap:wrap}

#exportOut{width:100%; height:200px; background:#0b1020; color:#e5e7eb; border:1px solid #223; border-radius:12px; padding:10px}

.ph{display:inline; padding:2px 4px; border-radius:4px; background:#0b3b49; color:#7dd3fc}

.ui-resizable-handle{display:none !important}

.preset-grid{position:absolute; left:24px; right:24px; top:24px; bottom:24px; display:grid; grid-template-columns:1fr auto; gap:18px}
.card{background:#0c1222; border:1px solid #1f2937; border-radius:14px; padding:14px}
